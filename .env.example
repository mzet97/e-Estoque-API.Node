# E-Estoque API Environment Configuration
# Copy this file to .env and update with your actual values

# ==============================================
# APPLICATION ENVIRONMENT
# ==============================================
NODE_ENV=development
PORT=3000
API_VERSION=v1

# ==============================================
# DATABASE CONFIGURATION
# ==============================================
# PostgreSQL Database URL
# Format: postgresql://username:password@host:port/database_name
DATABASE_URL=postgresql://estoque_user:estoque_password_123@localhost:5432/estoque_db

# Database SSL (set to false for local development)
DB_SSL=false

# ==============================================
# REDIS CONFIGURATION
# ==============================================
# Redis Connection URL
# Format: redis://username:password@host:port/database_number
REDIS_URL=redis://localhost:6379/0

# Redis Password (if required)
REDIS_PASSWORD=

# ==============================================
# RABBITMQ CONFIGURATION
# ==============================================
# RabbitMQ Connection URL
# Format: amqp://username:password@host:port
RABBITMQ_URL=amqp://estoque_user:estoque_password_123@localhost:5672

# ==============================================
# AUTHENTICATION & SECURITY
# ==============================================
# JWT Configuration
JWT_SECRET=your-super-secure-jwt-secret-key-here
JWT_ISSUER=eestoque-api
JWT_AUDIENCE=eestoque-client

# Session Secret
SESSION_SECRET=your-session-secret-key

# API Key for admin access
ADMIN_API_KEY=your-admin-api-key

# ==============================================
# CORS CONFIGURATION
# ==============================================
# Allowed origins (comma-separated)
# For development: http://localhost:3000,http://localhost:3001
# For staging: https://staging.eestoque.com
# For production: https://eestoque.com
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# ==============================================
# LOGGING CONFIGURATION
# ==============================================
# Log levels: error, warn, info, debug
LOG_LEVEL=debug

# Log directory
LOG_DIR=./logs

# ==============================================
# EMAIL CONFIGURATION
# ==============================================
# Email provider (sendgrid, ses, mock)
EMAIL_PROVIDER=mock

# SendGrid Configuration
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@eestoque.com
SENDGRID_FROM_NAME=E-Estoque

# AWS SES Configuration (if using SES)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# ==============================================
# FILE STORAGE CONFIGURATION
# ==============================================
# Storage provider (s3, local, gcs, mock)
FILE_STORAGE_PROVIDER=local

# S3 Configuration (if using S3)
S3_BUCKET=your-s3-bucket-name
S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# Google Cloud Storage (if using GCS)
GCS_BUCKET=your-gcs-bucket
GCS_KEY_FILE=path/to/service-account-key.json

# ==============================================
# RATE LIMITING
# ==============================================
# Default rate limit per minute
RATE_LIMIT_DEFAULT=1000

# Tier limits (free, basic, premium, admin)
RATE_LIMIT_FREE=100
RATE_LIMIT_BASIC=1000
RATE_LIMIT_PREMIUM=10000
RATE_LIMIT_ADMIN=-1

# ==============================================
# CIRCUIT BREAKER
# ==============================================
# Failure threshold before opening circuit
CIRCUIT_BREAKER_THRESHOLD=5

# Reset timeout in milliseconds
CIRCUIT_BREAKER_RESET_TIMEOUT=60000

# Monitor interval in milliseconds
CIRCUIT_BREAKER_MONITOR_INTERVAL=10000

# ==============================================
# MONITORING & OBSERVABILITY
# ==============================================
# Metrics endpoint port
METRICS_PORT=9090

# Health check endpoint port
HEALTH_PORT=3000

# Enable metrics collection
ENABLE_METRICS=true

# Enable tracing
ENABLE_TRACING=true

# Traces endpoint (if using external tracing service)
TRACES_ENDPOINT=

# Metrics endpoint (if using external metrics service)
METRICES_ENDPOINT=

# ==============================================
# FEATURE FLAGS
# ==============================================
# Enable/disable features
ENABLE_NEW_API=true
ENABLE_BETA_FEATURES=false
ENABLE_MAINTENANCE_MODE=false
ENABLE_RATE_LIMITING=true
ENABLE_CIRCUIT_BREAKER=true
ENABLE_DEBUG_LOGS=false

# ==============================================
# BACKUP CONFIGURATION
# ==============================================
# Enable automatic backups
ENABLE_BACKUPS=false

# Backup destination (S3 bucket, local path, etc.)
BACKUP_DESTINATION=s3://your-backup-bucket

# File backup destination
FILE_BACKUP_DESTINATION=s3://your-file-backup-bucket

# ==============================================
# DEVELOPMENT CONFIGURATION
# ==============================================
# Enable database seeding
SEED_DATABASE=false

# Skip service initialization (for testing)
SKIP_SERVICE_INIT=false

# Enable hot reload
ENABLE_HOT_RELOAD=true

# Enable development tools
ENABLE_DEV_TOOLS=true

# ==============================================
# STAGING CONFIGURATION
# ==============================================
# Staging-specific settings
STAGING_API_URL=https://staging-api.eestoque.com
STAGING_DATABASE_URL=postgresql://user:pass@staging-db:5432/db
STAGING_REDIS_URL=redis://user:pass@staging-redis:6379/0

# ==============================================
# PRODUCTION CONFIGURATION
# ==============================================
# Production API URL
PRODUCTION_API_URL=https://api.eestoque.com

# External service URLs
EXTERNAL_SERVICE_URL_1=https://service1.example.com
EXTERNAL_SERVICE_URL_2=https://service2.example.com

# ==============================================
# THIRD-PARTY INTEGRATIONS
# ==============================================
# Payment Gateway
PAYMENT_GATEWAY_API_KEY=your-payment-gateway-key
PAYMENT_GATEWAY_SECRET=your-payment-gateway-secret

# SMS Service
SMS_API_KEY=your-sms-api-key
SMS_FROM_NUMBER=+1234567890

# Push Notification Service
PUSH_NOTIFICATION_KEY=your-push-notification-key

# Analytics Service
ANALYTICS_API_KEY=your-analytics-api-key

# ==============================================
# SECURITY CONFIGURATION
# ==============================================
# Enable HTTPS enforcement
ENFORCE_HTTPS=true

# Enable HSTS
ENABLE_HSTS=true

# HSTS max-age in seconds
HSTS_MAX_AGE=31536000

# ==============================================
# CACHE CONFIGURATION
# ==============================================
# Cache TTL in seconds (default)
CACHE_DEFAULT_TTL=300

# Cache max TTL in seconds
CACHE_MAX_TTL=3600

# Redis cache key prefix
CACHE_KEY_PREFIX=eestoque:

# ==============================================
# NOTIFICATION CHANNELS
# ==============================================
# Slack webhook for alerts
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Discord webhook for alerts
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/DISCORD/WEBHOOK

# PagerDuty integration
PAGERDUTY_API_KEY=your-pagerduty-api-key

# ==============================================
# TESTING CONFIGURATION
# ==============================================
# Test database URL (for CI/CD)
TEST_DATABASE_URL=postgresql://test:test@localhost:5432/test_db

# Test Redis URL (for CI/CD)
TEST_REDIS_URL=redis://localhost:6379/1

# ==============================================
# CI/CD CONFIGURATION
# ==============================================
# Docker Hub credentials (for CI/CD)
DOCKERHUB_USERNAME=your-dockerhub-username
DOCKERHUB_TOKEN=your-dockerhub-token

# GitHub token (for CI/CD)
GITHUB_TOKEN=your-github-token

# SonarQube configuration (for code quality)
SONARQUBE_URL=https://sonarcloud.io
SONARQUBE_TOKEN=your-sonarqube-token

# Codecov configuration (for test coverage)
CODECOV_TOKEN=your-codecov-token

# Snyk configuration (for security scanning)
SNYK_TOKEN=your-snyk-token

# ==============================================
# NOTES
# ==============================================
# 1. Never commit this file with real secrets to version control
# 2. Use different values for development, staging, and production
# 3. Regularly rotate secrets and API keys
# 4. Use environment-specific .env files (.env.development, .env.staging, .env.production)
# 5. In production, consider using a secrets management service like AWS Secrets Manager or HashiCorp Vault
# 6. Review and update these configurations regularly based on your security and performance requirements